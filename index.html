<!doctype html>
<html>
    <head></head>
    <body>
        <div id="app"></div>
    </body>
    <!-- defer : scripts are async downloaded but loaded in order of insertion -->
    <script defer src="./dist/vendor.js"></script>
    <script defer src="./dist/app.js"></script>
    <script defer lang="javascript">
        (function() {
            function initApp() {
                if (window.App) {
                    // here the data can be set dynamically in a jsp or by passing url arguments
                    App.$store.dispatch("APP_INITIALIZE", { 
                        viewMode: "FULL",
                        userRights: [ "ADMIN" ]
                    });
                } else {
                    setTimeout(function() { initApp(); }, 100);
                }
            }
            console.log("App init")
            initApp();
        })();
    </script>
</html>